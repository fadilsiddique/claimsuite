import{C as k}from"./ClaimCard-RNEA582M.js";import{E as C}from"./EmptyState-CFTUbY7i.js";import{_ as N,a as D,r as c,o as r,c as d,b as t,d as m,t as n,e as F,f as o,F as g,g as h,h as _,w as u,i as v,j as E,u as S}from"./index-ZyqR9LDf.js";const I={name:"Dashboard",components:{ClaimCard:k,EmptyState:C,FeatherIcon:D},setup(){const{userInfo:a}=S();return{statsResource:E({url:"claimsuite.api.get_dashboard_stats",auto:!0}),userInfo:a}},methods:{formatCurrency(a){return Number(a||0).toLocaleString("en-AE",{minimumFractionDigits:2,maximumFractionDigits:2})}},computed:{stats(){return this.statsResource.data},recentClaims(){var a;return((a=this.stats)==null?void 0:a.recent_claims)||[]},firstName(){var e;return(((e=this.userInfo)==null?void 0:e.full_name)||"").split(" ")[0]},greeting(){const a=new Date().getHours();return a<12?"Good morning":a<17?"Good afternoon":"Good evening"},todayFormatted(){return new Date().toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}}},R={class:"dashboard-page"},V={class:"dashboard-header px-4 pt-20 pb-16 rounded-b-3xl"},j={class:"mb-5"},A={class:"text-2xl font-bold text-white"},B={key:0},G={class:"text-sm text-white/70 mt-1"},L={class:"grid grid-cols-2 gap-3"},T={class:"bg-white/15 backdrop-blur-sm rounded-2xl p-4"},q={class:"text-2xl font-bold text-white tabular-nums"},H={class:"bg-white/15 backdrop-blur-sm rounded-2xl p-4"},P={class:"text-2xl font-bold text-white tabular-nums"},z={class:"px-4 -mt-6"},J={key:0,class:"grid grid-cols-2 gap-3 mb-5"},K={class:"bg-white rounded-2xl p-4 shadow-sm border border-gray-100"},M={class:"flex items-center gap-3"},O={class:"flex items-center justify-center w-10 h-10 rounded-xl bg-amber-50"},Q={class:"text-xl font-bold text-gray-900 tabular-nums"},U={class:"bg-white rounded-2xl p-4 shadow-sm border border-gray-100"},W={class:"flex items-center gap-3"},X={class:"flex items-center justify-center w-10 h-10 rounded-xl bg-green-50"},Y={class:"text-xl font-bold text-gray-900 tabular-nums"},Z={key:1,class:"grid grid-cols-2 gap-3 mb-5"},$={class:"flex items-center justify-center w-12 h-12 rounded-xl bg-white/20"},tt={class:"mb-4"},et={class:"flex items-center justify-between mb-3"},st={key:0,class:"space-y-3"},at={key:1,class:"space-y-3"},rt={class:"btn-primary h-8 px-3 text-sm font-medium rounded-lg text-white inline-flex items-center gap-1.5"};function dt(a,e,ot,p,nt,s){var f,b;const l=c("FeatherIcon"),x=c("router-link"),w=c("ClaimCard"),y=c("EmptyState");return r(),d("div",R,[t("div",V,[t("div",j,[t("h2",A,[m(n(s.greeting),1),s.firstName?(r(),d("span",B,", "+n(s.firstName),1)):F("",!0)]),t("p",G,n(s.todayFormatted),1)]),t("div",L,[t("div",T,[e[0]||(e[0]=t("p",{class:"text-xs font-medium text-white/70 mb-1"},"Total Claims",-1)),t("p",q,n((b=(f=s.stats)==null?void 0:f.total_claims)!=null?b:"—"),1)]),t("div",H,[e[2]||(e[2]=t("p",{class:"text-xs font-medium text-white/70 mb-1"},"Total Amount",-1)),t("p",P,[e[1]||(e[1]=t("span",{class:"text-sm font-medium text-white/70"},"AED",-1)),m(" "+n(s.stats?s.formatCurrency(s.stats.total_amount):"—"),1)])])])]),t("div",z,[s.stats?(r(),d("div",J,[t("div",K,[t("div",M,[t("div",O,[o(l,{name:"clock",class:"w-5 h-5 text-amber-600"})]),t("div",null,[t("p",Q,n(s.stats.draft_count),1),e[3]||(e[3]=t("p",{class:"text-xs text-gray-500"},"Pending",-1))])])]),t("div",U,[t("div",W,[t("div",X,[o(l,{name:"check-circle",class:"w-5 h-5 text-green-600"})]),t("div",null,[t("p",Y,n(s.stats.submitted_count),1),e[4]||(e[4]=t("p",{class:"text-xs text-gray-500"},"Approved",-1))])])])])):(r(),d("div",Z,[(r(),d(g,null,h(2,i=>t("div",{key:i,class:"bg-white rounded-2xl p-4 shadow-sm border border-gray-100 animate-pulse"},[...e[5]||(e[5]=[_('<div class="flex items-center gap-3" data-v-a14819fa><div class="w-10 h-10 rounded-xl bg-gray-100" data-v-a14819fa></div><div class="flex-1" data-v-a14819fa><div class="h-6 bg-gray-100 rounded w-12 mb-1" data-v-a14819fa></div><div class="h-3 bg-gray-50 rounded w-16" data-v-a14819fa></div></div></div>',1)])])),64))])),o(x,{to:"/new",class:"quick-action-btn flex items-center gap-4 text-white rounded-2xl p-5 mb-6 active:scale-[0.98] transition-all duration-100 shadow-lg"},{default:u(()=>[t("div",$,[o(l,{name:"plus",class:"w-6 h-6"})]),e[6]||(e[6]=t("div",null,[t("p",{class:"text-base font-semibold"},"New Expense Claim"),t("p",{class:"text-xs text-white/70"},"Submit a new expense")],-1)),o(l,{name:"chevron-right",class:"w-5 h-5 text-white/60 ml-auto"})]),_:1}),t("div",tt,[t("div",et,[e[8]||(e[8]=t("h3",{class:"text-base font-semibold text-gray-900"},"Recent Claims",-1)),o(x,{to:"/claims",class:"text-xs font-medium text-gray-500 hover:text-gray-700"},{default:u(()=>[...e[7]||(e[7]=[m(" View all ",-1)])]),_:1})]),p.statsResource.loading&&!s.stats?(r(),d("div",st,[(r(),d(g,null,h(3,i=>t("div",{key:i,class:"bg-white rounded-2xl p-4 border border-gray-100 animate-pulse"},[...e[9]||(e[9]=[_('<div class="flex items-center gap-3" data-v-a14819fa><div class="w-10 h-10 rounded-xl bg-gray-100" data-v-a14819fa></div><div class="flex-1" data-v-a14819fa><div class="h-4 bg-gray-100 rounded w-24 mb-2" data-v-a14819fa></div><div class="h-3 bg-gray-50 rounded w-32" data-v-a14819fa></div></div><div class="h-5 bg-gray-100 rounded w-20" data-v-a14819fa></div></div>',1)])])),64))])):s.recentClaims.length?(r(),d("div",at,[(r(!0),d(g,null,h(s.recentClaims,i=>(r(),v(w,{key:i.name,claim:i},null,8,["claim"]))),128))])):(r(),v(y,{key:2,icon:"file-text",title:"No claims yet",message:"Create your first expense claim to get started"},{action:u(()=>[o(x,{to:"/new",class:"mt-4"},{default:u(()=>[t("button",rt,[o(l,{name:"plus",class:"w-4 h-4"}),e[10]||(e[10]=m(" New Claim ",-1))])]),_:1})]),_:1}))])])])}const mt=N(I,[["render",dt],["__scopeId","data-v-a14819fa"]]);export{mt as default};
