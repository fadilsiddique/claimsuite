import{_ as d,a as u,r as i,o as p,i as h,w as _,b as t,ab as r,f as o,t as a}from"./index-ZyqR9LDf.js";const f={Food:"coffee",Telephone:"phone",Travel:"map-pin",Transport:"truck",Accommodation:"home",Entertainment:"music",Office:"briefcase"},x={name:"ClaimCard",components:{FeatherIcon:u},props:{claim:{type:Object,required:!0}},computed:{claimType(){return this.parseRemark().type||"Expense"},description(){return this.parseRemark().description||this.claim.name},typeIcon(){return f[this.claimType]||"file-text"},typeIconBg(){return this.claim.docstatus===1?"bg-green-50":"bg-gray-100"},typeIconColor(){return this.claim.docstatus===1?"text-green-600":"text-gray-500"},formattedAmount(){return Number(this.claim.total_debit||0).toLocaleString("en-AE",{minimumFractionDigits:2,maximumFractionDigits:2})},formattedDate(){return this.claim.posting_date?new Date(this.claim.posting_date).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):""},statusLabel(){return this.claim.docstatus===0?"Draft":this.claim.docstatus===1?"Submitted":"Cancelled"},statusClass(){return this.claim.docstatus===0?"bg-gray-100 text-gray-600":this.claim.docstatus===1?"bg-blue-50 text-blue-700":"bg-red-50 text-red-600"}},methods:{parseRemark(){const s=(this.claim.user_remark||"").match(/^Expense Claim - (.+?) - (.+?) - (.+)$/);return s?{type:s[1],description:s[2],date:s[3]}:{}}}},g={class:"flex items-center justify-between gap-3"},y={class:"flex items-center gap-3 min-w-0 flex-1"},b={class:"min-w-0 flex-1"},C={class:"text-sm font-semibold text-gray-900 truncate"},k={class:"text-xs text-gray-500 truncate mt-0.5"},w={class:"text-right shrink-0"},v={class:"text-sm font-bold text-gray-900 tabular-nums"},I={class:"flex items-center justify-end gap-1.5 mt-1"},D={class:"flex items-center gap-2 mt-3 pt-3 border-t border-gray-50"},T={class:"text-xs text-gray-400"};function B(n,s,m,E,F,e){const c=i("FeatherIcon"),l=i("router-link");return p(),h(l,{to:`/claims/${m.claim.name}`,class:"block bg-white rounded-2xl p-4 border border-gray-100 shadow-sm active:scale-[0.98] transition-transform duration-100"},{default:_(()=>[t("div",g,[t("div",y,[t("div",{class:r(["flex items-center justify-center w-10 h-10 rounded-xl shrink-0",e.typeIconBg])},[o(c,{name:e.typeIcon,class:r(["w-5 h-5",e.typeIconColor])},null,8,["name","class"])],2),t("div",b,[t("p",C,a(e.claimType),1),t("p",k,a(e.description),1)])]),t("div",w,[t("p",v,"AED "+a(e.formattedAmount),1),t("div",I,[t("span",{class:r(["inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-semibold",e.statusClass])},a(e.statusLabel),3)])])]),t("div",D,[o(c,{name:"calendar",class:"w-3.5 h-3.5 text-gray-400"}),t("span",T,a(e.formattedDate),1)])]),_:1},8,["to"])}const S=d(x,[["render",B]]);export{S as C};
